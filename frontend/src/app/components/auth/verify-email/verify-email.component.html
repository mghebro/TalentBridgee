<div class="verify-container">
  <div class="verify-form" *ngIf="invalidLink">
    <nz-result
      nzStatus="warning"
      nzTitle="Invalid Verification Link"
      nzSubTitle="The verification link is invalid or expired. Please try registering again or contact support."
    >
      <div nz-result-extra>
        <button nz-button nzType="primary" (click)="goToLogin()">Go to Login</button>
      </div>
    </nz-result>
  </div>

  <div class="verify-form" *ngIf="!invalidLink">
    <h2>Verify Your Email</h2>
    <p class="email-info">
      A verification code has been sent to<br />
      <strong>{{ email }}</strong>
    </p>
    <p class="instructions">Please enter the code below to verify your account.</p>

    <form nz-form [formGroup]="verifyForm" (ngSubmit)="submit()">
      <nz-form-item>
        <nz-form-control nzErrorTip="Please input the verification code!">
          <nz-input-group nzPrefixIcon="safety-certificate" nzSize="large">
            <input
              type="text"
              nz-input
              formControlName="code"
              placeholder="Enter verification code"
              autocomplete="one-time-code"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <button
          nz-button
          nzType="primary"
          nzSize="large"
          nzBlock
          [nzLoading]="isLoading"
          [disabled]="!verifyForm.valid"
        >
          Verify Email
        </button>
      </nz-form-item>
    </form>

    <div class="resend-container">
      <span>Didn't receive the code?</span>
      <a (click)="resendCode()" [class.disabled]="isLoading">Resend Code</a>
    </div>
  </div>
</div>
